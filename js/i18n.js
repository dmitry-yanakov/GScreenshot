const translations = {
    en: {
        "hero-title": 'Privacy -<br><span class="text-gradient">Owned by You.</span>',
        "hero-desc": "Capture, edit, and store screenshots securely on your Google Drive. Direct upload with no middlemen.",
        "hero-trouble": "Having trouble installing? ",
        "hero-guide": "View launch guide",
        "sec-title": "Why is it safe?",
        "sec-desc": "Your screenshot is sent directly to your personal Google Drive storage",
        "sec-pc": "Your PC",
        "sec-direct": "Direct API Upload",
        "sec-first-info": "No intermediaries",
        "sec-first-desc": "Data never touches our servers. Files are sent via official API straight to your Drive",
        "sec-second-info": "Full control",
        "sec-second-desc": "You are the sole owner of your files. Manage access rights and delete shots at any time.",
        "tools-title": "Toolkit",
        "tools-name-pencil": "Pencil",
        "tools-desc-pencil": "Freehand drawing. Perfect for quick notes or highlighting custom areas.",
        "tools-name-arrow": "Arrow",
        "tools-desc-arrow": "Point to what matters. Smart arrows that look professional and sharp.",
        "tools-name-blur": "Blur",
        "tools-desc-blur": "Protect privacy. Mask passwords, faces, or sensitive data in one click.",
        "tools-name-highlight": "Highlight",
        "tools-desc-highlight": "Focus attention. Marker effect to emphasize important text or buttons.",
        "tools-name-text": "Text",
        "tools-desc-text": "Add explanations. Type text directly on your screenshot with font options.",
        "tools-name-underline": "Underline",
        "tools-desc-underline": "Underline the essence. Quickly highlight lines of text without extra noise.",
        "info-title": "Information",
        "info-desc": "GScreenshot is a non-commercial project, not a product of a large corporation with a massive budget.<br> We choose the path of transparency, openly sharing the technical nuances of software development created independently from major platforms.",
        "info-ms-authenticode-title": "Microsoft Authenticode",
        "info-ms-authenticode-desc": "A digital signature for Windows that confirms the publisher. Its absence simply means the project is non-commercial and does not pay for annual Microsoft certificates (~$400/year).",
        "info-ms-official-description": "Official Description",
        "info-apple-notarization-title": "Apple Notarization",
        "info-apple-notarization-desc": "Apple's security procedure where the Gatekeeper system automatically flags third-party apps as \"unverified\" even if they are safe. Obtaining a Gatekeeper certificate costs (~$99/year).",
        "info-apple-official-description": "Official Description",
        "setup-title": "How to Launch the App",
        "setup-desc": "A quick guide to navigating system security restrictions",
        "setup-win-first": "Click <strong>\"More info\"</strong> in the security window.",
        "setup-win-second": "Click the <strong>\"Run anyway\"</strong> button that appears.",
        "setup-win-third": "The app will launch and be added to your system's whitelist.",
        "setup-mac-first": "Copy the command below into the Terminal:",
        "setup-mac-second": "Drag the <strong>GScreenshot</strong> icon into the Terminal window.",
        "setup-mac-third": "Press <strong>Enter</strong> and provide your password if prompted.",
        "join-title": "Join our community",
        "join-desc": "Become part of something bigger. Help us improve GScreenshot by reporting bugs, <br> suggesting new features, or simply staying updated through our community channel.",
        "join-stay-in-touch": "Stay in touch",
        "join-telegram-channel": "Telegram Channel",
        "footer-slogan": "Your drive, your rules."
    },
    ua: {
        "hero-title": 'Приватність -<br><span class="text-gradient">Належить Вам.</span>',
        "hero-desc": "Робіть знімки, редагуйте та зберігайте їх у безпеці на своєму Google Drive. Пряме завантаження без посередників.",
        "hero-trouble": "Проблеми з встановленням? ",
        "hero-guide": "Інструкція із запуску",
        "sec-title": "Чому це безпечно?",
        "sec-desc": "Ваш скріншот надсилається напряму у ваше особисте сховище Google Drive",
        "sec-pc": "Ваш ПК",
        "sec-direct": "Пряме завантаження через API",
        "sec-first-info": "Жодних посередників",
        "sec-first-desc": "Дані не потрапляють на наші сервери. Файл надсилається через офіційний API одразу на ваш Диск",
        "sec-second-info": "Повний контроль",
        "sec-second-desc": "Ви — єдиний власник файлів. Керуйте правами доступу та видаляйте знімки в будь-який момент.",
        "tools-title": "Набір інструментів",
        "tools-name-pencil": "Олівець",
        "tools-desc-pencil": "Малюйте від руки. Ідеально для швидких нотаток або виділення довільних областей.",
        "tools-name-arrow": "Стрілка",
        "tools-desc-arrow": "Вказуйте на важливе. Розумні стрілки, що виглядають професійно та чітко.",
        "tools-name-blur": "Розмиття",
        "tools-desc-blur": "Приховуйте конфіденційність. Замазуйте паролі, обличчя або особисті дані в один клік.",
        "tools-name-highlight": "Виділення",
        "tools-desc-highlight": "Акцентуйте увагу. Ефект маркера для виділення важливого тексту або кнопок.",
        "tools-name-text": "Текст",
        "tools-desc-text": "Додавайте пояснення. Друкуйте текст прямо поверх скріншота з вибором шрифту.",
        "tools-name-underline": "Підкреслення",
        "tools-desc-underline": "Підкреслюйте суть. Швидке виділення рядків тексту без зайвого шуму.",
        "info-title": "Додаткова інформація",
        "info-desc": "GScreenshot — це некомерційний проект, а не продукт корпорації з величезним бюджетом.<br> Ми обираємо шлях прозорості, тому відкрито ділимося технічними нюансами розробки ПЗ, створеного без участі великих платформ.",
        "info-ms-authenticode-title": "Microsoft Authenticode",
        "info-ms-authenticode-desc": "Цифровий підпис для Windows, що підтверджує видавця. Його відсутність означає лише те, що проект є некомерційним і не оплачує щорічні сертифікати Microsoft (~$400/рік).",
        "info-ms-official-description": "Офіційний опис",
        "info-apple-notarization-title": "Apple Notarization",
        "info-apple-notarization-desc": "Процедура перевірки безпеки від Apple. Без платної підписки (~$99/рік) система Gatekeeper автоматично позначає будь-які незалежні програми як «неперевірені», навіть якщо вони безпечні.",
        "info-apple-official-description": "Офіційний опис",
        "setup-title": "Як запустити програму",
        "setup-desc": "Короткий посібник з обходу системних обмежень",
        "setup-win-first": "Натисніть <strong>«Докладніше»</strong> у вікні захисту.",
        "setup-win-second": "Натисніть кнопку <strong>«Виконати в будь-якому разі»</strong>, що з'явилася.",
        "setup-win-third": "Програма запуститься і буде додана до білого списку вашої системи.",
        "setup-mac-first": "Скопіюйте команду нижче в Термінал:",
        "setup-mac-second": "Перетягніть іконку <strong>GScreenshot</strong> у вікно Терміналу.",
        "setup-mac-third": "Натисніть <strong>Enter</strong> і введіть пароль адміністратора, якщо буде запит.",
        "join-title": "Приєднуйтесь до спільноти",
        "join-desc": "Станьте частиною чогось більшого. Допоможіть нам покращити GScreenshot, повідомляючи про баги, <br> пропонуючи нові функції або просто слідкуючи за новинами у нашому каналі.",
        "join-stay-in-touch": "Залишайтеся на зв'язку",
        "join-telegram-channel": "Telegram канал",
        "footer-slogan": "Ваш диск, ваші правила."
    },
    ru: {
        "hero-title": 'Безопасность -<br><span class="text-gradient">принадлежит Вам.</span>',
        "hero-desc": "Делайте снимки, редактируйте и храните их в безопасности на своем Google Drive. Прямая загрузка без посредников.",
        "hero-trouble": "Проблемы с установкой? ",
        "hero-guide": "Инструкция по запуску",
        "sec-title": "Почему это безопасно?",
        "sec-desc": "Ваш скриншот отправляется напрямую в ваше личное хранилище Google Drive",
        "sec-pc": "Ваш ПК",
        "sec-direct": "Прямая загрузка по API",
        "sec-first-info": "Никаких посредников",
        "sec-first-desc": "Данные не посещают наши серверы. Файл отправляется через официальный API сразу на ваш Диск",
        "sec-second-info": "Полный контроль",
        "sec-second-desc": "Вы — единственный владелец файлов. Управляйте правами доступа и удаляйте снимки в любой момент.",
        "tools-title": "Набор инструментов",
        "tools-name-pencil": "Карандаш",
        "tools-desc-pencil": "Рисуйте от руки. Идеально для быстрых пометок или выделения произвольных областей.",
        "tools-name-arrow": "Стрелка",
        "tools-desc-arrow": "Указывайте на важное. Умные стрелки, которые выглядят профессионально и четко.",
        "tools-name-blur": "Размытие",
        "tools-desc-blur": "Скрывайте конфиденциальность. Замазывайте пароли, лица или личные данные в один клик.",
        "tools-name-highlight": "Выделение",
        "tools-desc-highlight": "Акцентируйте внимание. Эффект маркера для выделения важного текста или кнопок.",
        "tools-name-text": "Текст",
        "tools-desc-text": "Добавляйте пояснения. Печатайте текст прямо поверх скриншота с выбором шрифта.",
        "tools-name-underline": "Подчеркивание",
        "tools-desc-underline": "Подчеркивайте суть. Быстрое выделение строк текста без лишнего шума.",
        "info-title": "Дополнительная информация",
        "info-desc": "GScreenshot — это некоммерческий проект, а не продукт корпорации с огромным бюджетом.<br> Мы выбираем путь прозрачности, поэтому открыто делимся техническими нюансами разработки ПО, создаваемого без участия крупных платформ.",
        "info-ms-authenticode-title": "Microsoft Authenticode",
        "info-ms-authenticode-desc": "Цифровая подпись для Windows, подтверждающая издателя. Её отсутствие означает лишь то, что проект является некоммерческим и не оплачивает ежегодные сертификаты Microsoft (~$400/год).",
        "info-ms-official-description": "Официальное описание",
        "info-apple-notarization-title": "Apple Notarization",
        "info-apple-notarization-desc": "Процедура проверки безопасности от Apple. Без платной подписки (~$99/год) система Gatekeeper автоматически помечает любые независимые приложения как «непроверенные», даже если они безопасны.",
        "info-apple-official-description": "Официальное описание",
        "setup-title": "Как запустить приложение",
        "setup-desc": "Краткое руководство по обходу системных ограничений",
        "setup-win-first": "Нажмите <strong>«Подробнее»</strong> в окне защиты.",
        "setup-win-second": "Нажмите появившуюся кнопку <strong>«Выполнить в любом случае»</strong>.",
        "setup-win-third": "Приложение запустится и будет добавлено в белый список вашей системы.",
        "setup-mac-first": "Скопируйте команду ниже в Терминал:",
        "setup-mac-second": "Перетащите иконку <strong>GScreenshot</strong> в окно Терминала.",
        "setup-mac-third": "Нажмите <strong>Enter</strong> и введите пароль администратора при необходимости.",
        "join-title": "Присоединяйтесь к сообществу",
        "join-desc": "Станьте частью чего-то большего. Помогите нам улучшить GScreenshot, сообщая о багах, <br> предлагая новые функции или просто следя за обновлениями в нашем канале.",
        "join-stay-in-touch": "Оставайтесь на связи",
        "join-telegram-channel": "Telegram канал",
        "footer-slogan": "Ваш диск, ваши правила."
    }
};

// Функция смены языка
function setLanguage(lang) {
    const translation = translations[lang];
    if (!translation) return;

    // 1. Обновляем все элементы по ID
    Object.keys(translation).forEach(key => {
        const element = document.getElementById(key);
        if (element) {
            element.innerHTML = translation[key];
        }
    });

    // 2. Сохраняем выбор
    localStorage.setItem('preferredLang', lang);
    
    // 3. Обновляем футер (Текст + Копирайт + Год)
    const sloganElement = document.getElementById('footer-slogan');
    if (sloganElement) {
        const year = new Date().getFullYear();
        const text = translation['footer-slogan'];
        sloganElement.innerHTML = `${text} <span class="ms-1">© ${year}</span> <b>GScreenshot.</b>`;
    }

    // 4. Обновляем визуальное состояние кастомного селекта
    const currentLangText = document.getElementById('current-lang');
    if (currentLangText) {
        // Берем первые 3 буквы для кнопки (Eng, Рус, Укр)
        const labels = { en: 'Eng', ru: 'Рус', ua: 'Укр' };
        currentLangText.textContent = labels[lang] || lang.toUpperCase();
    }
}

// Логика работы кастомного селекта
document.addEventListener('DOMContentLoaded', () => {
    const wrapper = document.getElementById('customLangSelector');
    const trigger = wrapper?.querySelector('.select-trigger');
    const options = wrapper?.querySelectorAll('.option');

    if (trigger) {
        // Открытие/закрытие списка
        trigger.addEventListener('click', (e) => {
            wrapper.classList.toggle('active');
            e.stopPropagation();
        });
    }

    if (options) {
        // Клик по пункту меню
        options.forEach(option => {
            option.addEventListener('click', function() {
                const selectedLang = this.getAttribute('data-value');
                setLanguage(selectedLang);
                wrapper.classList.remove('active');
            });
        });
    }

    // Закрытие при клике в любое другое место
    document.addEventListener('click', () => {
        wrapper?.classList.remove('active');
    });

    // Инициализация языка при загрузке
    const savedLang = localStorage.getItem('preferredLang') || 'en';
    setLanguage(savedLang);
});